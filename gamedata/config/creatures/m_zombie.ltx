;==============================================================================
; ZOMBIE
;==============================================================================
;******************************************************************************
; BASE PROFILES
;******************************************************************************
[m_zombie_e]:monster_base
	GroupControlSection					= spawn_group
;	$spawn								= "monsters\zombies\zombie_base"					;option for Level Editor
	$npc								= on												;option for Level Editor
	$prefetch							= 16

	visual								= monsters\zombi\zombi_1
	corpse_visual						= monsters\zombi\zombi_1
	icon								= ui_npc_monster_zombie

	cform								= skeleton											;collision class
	class								= SM_ZOMBI											;AI идентификатор класса

	;species of monster
	species								= zombie

	material							= creatures\medium
	terrain								= zombie_terrain
	SpaceRestrictionSection				= space_restrictor,zone_mosquito_bald,zone_witches_galantine,zone_burning_fuzz1,zone_mincer,zone_gravi_zone

	Spawn_Inventory_Item_Section		= mutant_zombie_hand
	Spawn_Inventory_Item_Probability	= 0.4

	script_binding						= bind_monster.bind

	;--------------------------------------------------------------------------
	; Logic !!!похоже нигде не используется!!!
	;--------------------------------------------------------------------------
	DayTime_Begin						= 0													;начала дня для монстра
	DayTime_End							= 21												;конец дня для монстра
	Min_Satiety							= 0.4												;мин. норма сытости (меньше - уже голодный)
	Max_Satiety							= 1.0												;макс. норма сытости (больше - очень сытый)

	;--------------------------------------------------------------------------
	; Offline Alife
	;--------------------------------------------------------------------------
	Scheduled							= on												;option for ALife Simulator
	Human								= off												;option for ALife Simulator
	Health								= 100												;option for ALife Simulator
	MinSpeed							= 1.0												;option for ALife Simulator
	MaxSpeed							= 5.0												;option for ALife Simulator
	going_speed							= 2.0												;option for ALife Simulator
	search_speed						= 1.5												;option for ALife Simulator

	MaxHealthValue						= 100.0												;option for ALife Simulator, range [0..200]
	smart_terrain_choose_interval		= 00:15:00

	;--------------------------------------------------------------------------
	; Physics
	;--------------------------------------------------------------------------
	ph_box0_center						= 0.0,  0.9, 0.0
	ph_box0_size						= 0.35, 0.9, 0.35
	ph_box1_center						= 0.0,  0.6, 0.0
	ph_box1_size						= 0.4,  0.6, 0.4

	ph_crash_speed_min					= 10.0
	ph_crash_speed_max					= 30.0
	ph_mass								= 80.0
	ph_collision_damage_factor			= 0.1

	destroyed_vis_name					= physics\dead_body\trupik_crash

	ph_skeleton_airr_lin_factor			= -0.4
	ph_skeleton_airr_ang_factor			= -0.2
	ph_skeleton_hinger_factor1			= 1.0
	ph_skeleton_ddelay					= 5.0												;время изменения значения трения в суставе с момента создания шелла, сек
	ph_skel_fatal_impulse_factor		= 2.0
	ph_after_death_velocity_factor		= 0.75
	ph_skel_shot_up_factor				= 0.25

	;--------------------------------------------------------------------------
	; Evaluation functions
	;--------------------------------------------------------------------------
	ef_creature_type					= 3
	ef_weapon_type						= 1
	ef_detector_type					= 1
	panic_threshold						= 0.1

	;--------------------------------------------------------------------------
	; Movement::Velocities & Acceleration
	;--------------------------------------------------------------------------
	;	speed factors		| linear | angular_real | angular_path | min | max
	;--------------------------------------------------------------------------
	Velocity_Stand			= 0,			1.4,			1.4,	1.0,	1.0
	Velocity_WalkFwdNormal	= 0.9,			0.6,			0.6,	0.02,	2.0
	Velocity_RunFwdNormal	= 1.7,			3.0,			3.0,	0.4,	1.0
	Velocity_WalkFwdDamaged	= 0.7,			3.0,			0.8,	0.2,	2.0
	Velocity_RunFwdDamaged	= 1.5,			3.0,			3.0,	0.2,	1.0
	Velocity_Drag			= 1.0,			3.0,			3.0,	1.0,	1.0
	Velocity_Steal			= 1.5,			3.0,			3.0,	1.0,	1.0

	;acceleration
	Accel_Generic						= 1.5
	Accel_Calm							= 2.5
	Accel_Aggressive					= 7.5

	;--------------------------------------------------------------------------
	; Attack parameters
	;--------------------------------------------------------------------------
	attack_effector						= m_zombie_attack_effector
	attack_params						= m_zombie_attack_params

	MinAttackDist						= 1.7
	MaxAttackDist						= 2.3

	hit_type							= wound												;тип атаки

	as_min_dist							= 1.4
	as_step								= 0.1

	Melee_Rotation_Factor				= 1.6

	;--------------------------------------------------------------------------
	; Entity conditions
	;--------------------------------------------------------------------------
	satiety_v							= 0.00001											;скорость уменьшения сытости со временем [0...1]
	radiation_v							= 0.00001											;скорость уменьшения радиации [0...1]
	satiety_power_v						= 0.01												;увеличение силы при уменьшении сытости [0...1]
	satiety_health_v					= 0.005												;увеличение здоровья при уменьшении сытости [0...1]
	radiation_health_v					= 0.01												;уменьшение здоровья при воздействии радиации [0...1]
	morale_v							= 0.01												;скорость восстановления морали [0...1]
	health_hit_part						= 1.0												;процент хита, уходящий на отнимание здоровья [0...1]
	power_hit_part						= 1.0												;процент хита, уходящий на отнимание силы [0...1]
	psy_health_v						= 0.1												;скорость восстановления psy-здоровья [0...1]

	;открытые раны
	bleeding_v							= 0.01												;потеря крови при номинальной ране в секунду
	wound_incarnation_v					= 0.01												;крутизна кривой заживления (какой процент раны останется после заживления в игровую секунду)
	min_wound_size						= 0.01

	;eat settings
	eat_freq							= 5.0												;частота укусов в сек
	eat_slice							= 0.01												;увеличение сытости при 1 укусе
	eat_slice_weight					= 10.0												;уменьшение еды у трупа

	satiety_threshold					= 0.5												;ниже этого значения сытости монстр утоляет голод
	distance_to_corpse					= 1.2												;дист. до трупа, при которой он переходит в состояние еды

	;immunities
	immunities_sect						= zombie_immunities

	;--------------------------------------------------------------------------
	; Sounds and sound parameters
	;--------------------------------------------------------------------------
	sound_idle							= monsters\zombie\zombie_idle_
	sound_eat							= monsters\zombie\zombie_eat_
	sound_aggressive					= monsters\zombie\zombie_attack_
	sound_attack_hit					= monsters\zombie\zombie_attack_hit_
	sound_take_damage					= monsters\zombie\zombie_take_damage_
	sound_die							= monsters\zombie\zombie_die_
	sound_threaten						= monsters\biting\def_
	sound_steal							= monsters\biting\def_
	sound_panic							= monsters\zombie\zombie_attack_
	sound_die_in_anomaly				= monsters\zombie\zombie_die_
	sound_distant_idle					= monsters\zombie\zombie_idle_
	distant_idle_sound_delay			= 80000
	distant_idle_sound_range			= 100.0

	;периодичность воспроизведения звуков
	idle_sound_delay					= 20000
	eat_sound_delay						= 3000
	attack_sound_delay					= 24000

	SoundThreshold						= 0.06												;range [0..1]
	max_hear_dist						= 30.0

	;--------------------------------------------------------------------------
	; Vision
	;--------------------------------------------------------------------------
	eye_fov								= 80.0
	eye_range							= 50.0

	DynamicObjectsCount					= 32												;количество видимых объектов, которые может обрабатывать монстр
	min_view_distance					= 0.7												;коэффициент, который множится на eye_range, в зависимости от угла
	max_view_distance					= 1.0												;коэффициент, который множится на eye_range, в зависимости от угла
	visibility_threshold				= 100.0												;значение, при достижении суммой которого объект считается видимым
	always_visible_distance				= 0.3
	time_quant							= 0.001
	decrease_value						= 0.01												;значение, на которое уменьшается вес, если объект попал в фрустум, но отсёкся по каким-то причинам
	velocity_factor						= 0.5




bone_torso			 = bip01_spine1 			; bone name
bone_head			 = bip01_head				; bone name
bone_fire			 = bip01_head				; bone name
weapon_usage		 = 0						; boolean
















luminocity_factor			= 0.5 				; фактор освещения (только для Актёра)
transparency_threshold		= 0.25

; Morale
Morale_Hit_Quant				= 0.001
Morale_Attack_Success_Quant		= 0.1
Morale_Take_Heart_Speed			= 0.1
Morale_Despondent_Speed			= 0.1
Morale_Stable_Speed				= 0.01
Morale_Despondent_Threashold	= 0.1


killer_clsids			= Z_MINCER,Z_GALANT,ZS_BFUZZ,ZS_MBALD,ZS_GALAN,ZS_MINCE


DamagedThreshold		= 0.5
critical_wound_threshold		= 0.2
critical_wound_decrease_quant	= 0.

FakeDeathCount					= 4		; max count of fake death
StartFakeDeathHealthThreshold	= 0.6

LegsCount				= 2

step_params				= m_zombie_step_params

damage					= m_zombie_damage

[m_zombie_damage]
;bone_name		 = <hit_scale>,-1,<wound_scale>
;<hit_scale>	- коэфф. изменения хита (уменьшения здоровья) 
;<wound_scale>	- коэфф. изменения величины открытой раны

default				= 1.0, -1, 0.01

bip01_pelvis 		= 0.1, -1, 0.01
bip01_spine 		= 0.1, -1, 0.01
bip01_spine1 		= 0.1, -1, 0.01
bip01_neck 			= 0.1, -1, 0.01
bip01_head 			= 2.0, -1, 0.01

[zombie_terrain]
  255,000,255,255

[m_zombie_attack_params]
;---------------------------------------------------------------------------------------------------------------------------------------------
;	anim			| time[0..1] | hit_power | impulse | impulse_dir (x,y,z)  |	Field of hit_test  (left,right, bottom, top ) |	Test Dist
;---------------------------------------------------------------------------------------------------------------------------------------------
;right hand strike
stand_attack_0 =	  	0.30,		0.25,		    100,        0.0, 1.0, 0.0,		 -0.6, 0.6, -0.6, 0.6,							  2.0
;left hand strike
stand_attack_1 =	  	0.35,		0.20,		    100,        0.0, 1.0, 0.0,		 -0.6, 0.6, -0.6, 0.6,							  2.0
;left hand strike2
stand_attack_2 =	  	0.30,		0.15,		    120,        0.0, 1.0, 0.0,		 -0.6, 0.6, -0.6, 0.6,							  2.0
;left hand strike3
stand_attack_3 =	  	0.30,		0.20,		    180,        0.0, 1.0, 0.0,		 -0.6, 0.6, -0.6, 0.6,							  2.0

[m_zombie_attack_effector]

duality_h		= 0.01
duality_v		= 0.01
blur			= 0.01
gray			= 0.5
noise_intensity = 0.0
noise_grain		= 1
noise_fps		= 30
color_base		= 0.255,0.0,0.0
color_gray		= 0.333,0.333,0.333
color_add		= 0,0,0
time			= 0.4
time_attack		= 0.10		; fade in
time_release	= 0.35		; fade out

; camera effects
ce_time				= 0.5 ;time 
ce_amplitude		= -15.0 
ce_period_number	= 1.5 ;2.0 
ce_power			= 1.5 ;0.7 ; power 

[m_zombie_step_params]
;---------------------------------------------------------------------------
;	anim			| Cycles | time1 | power1 | time2 | power2 |
;---------------------------------------------------------------------------
stand_walk_fwd_0 	=	    1,	   0.01,     1,     0.25,    0.7,   
stand_walk_dmg_0 	=	    1,	   0.01,     1,     0.25,    0.7,     
stand_run_fwd_0	 	=	    1,	   0.01,     1,	    0.25,    0.6,    
stand_run_dmg_0	 	=	    1,	   0.01,     1,	    0.25,    0.6,    

;===========================================================================
; IMMUNITIES
;===========================================================================
[zombie_immunities]
burn_immunity			= 0.3						;коэффициенты иммунитета 
strike_immunity			= 0.8
shock_immunity			= 0.8
wound_immunity			= 0.3;1
radiation_immunity		= 0.0	;0.5
telepatic_immunity		= 1.0
chemical_burn_immunity	= 0.3
explosion_immunity		= 0.3
fire_wound_immunity		= 0.1
	
[zombie_weak]:m_zombie_e
	$spawn								= "monsters\zombies\zombie_weak"					;option for Level Editor

	visual								= monsters\zombi\zombi_2
	icon								= ui_npc_monster_zombie_weak

	rank								= 0
	spec_rank							= weak
	community							= zombie

	MaxHealthValue						= 80.0												;option for ALife Simulator, range [0..200]

	panic_threshold						= 0.5

	attack_params						= zombie_attack_params_normal
	immunities_sect						= zombie_immunities_normal





FakeDeathCount					= 3		; max count of fake death
StartFakeDeathHealthThreshold	= 0.4

[zombie_normal]:m_zombie_e
	$spawn								= "monsters\zombies\zombie_normal"					;option for Level Editor

	visual								= monsters\zombi\zombi_1
	icon								= ui_npc_monster_zombie_normal

	rank								= 255
	spec_rank							= normal
	community							= zombie

	panic_threshold						= 0.2

	attack_params						= zombie_attack_params_normal
	immunities_sect						= zombie_immunities_normal


FakeDeathCount					= 4		; max count of fake death
StartFakeDeathHealthThreshold	= 0.6

[zombie_immunities_normal]
burn_immunity			= 1.0
strike_immunity			= 1.0
shock_immunity			= 1.0
wound_immunity			= 0.35
radiation_immunity		= 0.0
telepatic_immunity		= 1.0
chemical_burn_immunity	= 1.0
explosion_immunity		= 0.35
fire_wound_immunity		= 0.2

[zombie_attack_params_normal]
;---------------------------------------------------------------------------------------------------------------------------------------------
;	anim			| time[0..1] | hit_power | impulse | impulse_dir (x,y,z)  |	Field of hit_test  (left,right, bottom, top ) |	Test Dist
;---------------------------------------------------------------------------------------------------------------------------------------------
;right hand strike
stand_attack_0 =	  	0.30,		0.35,		    100,        0.0, 1.0, 0.0,		 -0.3, 1.0, -0.6, 0.6,							  2.0
;left hand strike
stand_attack_1 =	  	0.35,		0.35,		    100,        0.0, 1.0, 0.0,		 -1.8, 0.6, -0.6, 0.6,							  2.0
;left hand strike2
stand_attack_2 =	  	0.30,		0.35,		    120,        0.0, 1.0, 0.0,		 -0.6, 0.6, -1.0, 1.0,							  2.0
;left hand strike3
stand_attack_3 =	  	0.30,		0.35,		    180,        0.0, 1.0, 0.0,		 -1.0, 0.3, -0.6, 0.6,							  2.0



[zombie_strong]:m_zombie_e
	$spawn								= "monsters\zombies\zombie_strong"					;option for Level Editor

	visual								= monsters\zombi\zombi_1_ghost
	icon								= ui_npc_monster_zombie_ghost

	rank								= 255
	spec_rank							= strong
	community							= zombie

	MaxHealthValue						= 120.0												;option for ALife Simulator, range [0..200]

	panic_threshold						= 0.05

	attack_params						= zombie_attack_params_strong
	immunities_sect						= zombie_immunities_strong


FakeDeathCount					= 6		; max count of fake death
StartFakeDeathHealthThreshold	= 0.8



[zombie_immunities_strong]
burn_immunity			= 1.0
strike_immunity			= 1.0
shock_immunity			= 1.0
wound_immunity			= 0.35
radiation_immunity		= 0.0
telepatic_immunity		= 1.0
chemical_burn_immunity	= 1.0
explosion_immunity		= 0.35
fire_wound_immunity		= 0.15

[zombie_attack_params_strong]
;---------------------------------------------------------------------------------------------------------------------------------------------
;	anim			| time[0..1] | hit_power | impulse | impulse_dir (x,y,z)  |	Field of hit_test  (left,right, bottom, top ) |	Test Dist
;---------------------------------------------------------------------------------------------------------------------------------------------
;right hand strike
stand_attack_0 =	  	0.30,		0.50,		    100,        0.0, 1.0, 0.0,		 -0.3, 1.0, -0.6, 0.6,							  2.0
;left hand strike
stand_attack_1 =	  	0.35,		0.50,		    100,        0.0, 1.0, 0.0,		 -1.8, 0.6, -0.6, 0.6,							  2.0
;left hand strike2
stand_attack_2 =	  	0.30,		0.50,		    120,        0.0, 1.0, 0.0,		 -0.6, 0.6, -1.0, 1.0,							  2.0
;left hand strike3
stand_attack_3 =	  	0.30,		0.50,		    180,        0.0, 1.0, 0.0,		 -1.0, 0.3, -0.6, 0.6,							  2.0


[zombie_immortal]:zombie_strong
	$spawn								= "monsters\zombies\zombie_immortal"				;option for Level Editor

	visual								= monsters\zombi\zombi_trup_2
	icon								= ui_npc_monster_zombie_immortal

	panic_threshold						= 0.05

[zombie_ghost]:zombie_strong
	$spawn								= "monsters\zombies\zombie_ghost"					;option for Level Editor

	visual								= monsters\zombi\zombi_trup
	icon								= ui_npc_monster_zombie_strong

	MaxHealthValue						= 140.0												;option for ALife Simulator, range [0..200]

[zombie_old]:zombie_normal
	$spawn								= "monsters\zombies\zombie_old"						;option for Level Editor

	visual								= monsters\zombi\zombi_3
	icon								= ui_npc_monster_zombie_old

[zombie_rusty]:zombie_strong
	$spawn								= "monsters\zombies\zombie_rusty"					;option for Level Editor

	visual								= monsters\zombi\zombi_x4
	icon								= ui_npc_monster_zombie_rusty

	Health								= 60												;option for ALife Simulator

	MaxHealthValue						= 60.0												;option for ALife Simulator, range [0..200]

	;--------------------------------------------------------------------------
	; Movement::Velocities & Acceleration
	;--------------------------------------------------------------------------
	;	speed factors		| linear | angular_real | angular_path | min | max
	;--------------------------------------------------------------------------
	Velocity_Stand			= 0,			1.4,			1.4,	1.0,	1.0
	Velocity_WalkFwdNormal	= 2.0,			0.6,			0.6,	0.02,	2.0
	Velocity_RunFwdNormal	= 4.0,			3.0,			3.0,	0.4,	1.0
	Velocity_WalkFwdDamaged	= 2.0,			3.0,			0.8,	0.2,	2.0
	Velocity_RunFwdDamaged	= 3.5,			3.0,			3.0,	0.2,	1.0
	Velocity_Drag			= 1.0,			3.0,			3.0,	1.0,	1.0
	Velocity_Steal			= 1.5,			3.0,			3.0,	1.0,	1.0

	MinAttackDist						= 1.1

	immunities_sect						= zombie_rusty_immunities

	sound_die							= $no_sound



bones_particles			= zombie_rusty_particles



FakeDeathCount			= 1
StartFakeDeathHealthThreshold	= 0.001

;custom_data = scripts\zombie_rusty.ltx


[zombie_rusty_immunities]
burn_immunity			= 0.0
strike_immunity			= 0.0
shock_immunity			= 0.0
wound_immunity			= 0.35
radiation_immunity		= 0.0
telepatic_immunity		= 0.0
chemical_burn_immunity		= 0.0
explosion_immunity		= 0.4
fire_wound_immunity		= 0.35

[zombie_rusty_particles]
zombie_rusty_particles_spine = zombie_rusty_particles_spine

[zombie_rusty_particles_spine]
particle = ogsm\ogsm_distort
sound = $no_sound
bone = bip01_spine
stop_on_death = true

[rad_zombie_rusty]:zombie_rusty
	Health								= 80												;option for ALife Simulator

	MaxHealthValue						= 80.0												;option for ALife Simulator, range [0..200]

[zombie_plague]:zombie_normal
	$spawn								= "monsters\zombies\zombie_plague"					;option for Level Editor

	visual								= monsters\zombi\zombi_x3
	icon								= ui_npc_monster_zombie_plague

	Health								= 60												;option for ALife Simulator

	immunities_sect						= zombie_plague_immunities


FakeDeathCount			= 1
StartFakeDeathHealthThreshold	= 0.001
bones_particles			= zombie_plague_particles

custom_data = scripts\zombie_plague.ltx
;
[zombie_plague_particles]
zombie_plague_particles_spine = zombie_plague_particles_spine
;
[zombie_plague_particles_spine]
particle = ogsm\ogsm_flies
sound = anomaly\flies
bone = bip01_head
stop_on_death = true
;
[zombie_plague_immunities]
burn_immunity			= 0.2
strike_immunity			= 0.1
shock_immunity			= 0.1
wound_immunity			= 0.1
radiation_immunity		= 0.1
telepatic_immunity		= 0.1
chemical_burn_immunity		= 0.1
explosion_immunity		= 0.3
fire_wound_immunity		= 0.1


[arena_zombie_1]:zombie_weak
	rank								= 255
	spec_rank							= normal
	community							= zombie

	panic_threshold						= 0.2



custom_data = scripts\arena_mob_3.ltx

[arena_zombie_2]:zombie_normal
	rank								= 255
	spec_rank							= normal
	community							= zombie

	panic_threshold						= 0.2




custom_data = scripts\arena_mob_4.ltx

[arena_zombie_3]:zombie_ghost
	rank								= 255
	spec_rank							= normal
	community							= zombie

	panic_threshold						= 0.2


custom_data = scripts\arena_mob_5.ltx

[arena_zombie_4]:zombie_immortal
	rank								= 255
	spec_rank							= normal
	community							= zombie

	panic_threshold						= 0.2

custom_data = scripts\arena_mob_6.ltx
